From 8970c8040a87bb9da1d22cabfd5dafb79924ed1f Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 06:37:42 -0700
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/world/item/component/BlocksAttacks.java b/net/minecraft/world/item/component/BlocksAttacks.java
index e8bfe269e242471c972c7c417c7c881d8fc6caa7..61d941387a54eb99b1537099a072d6503b0cace8 100644
--- a/net/minecraft/world/item/component/BlocksAttacks.java
+++ b/net/minecraft/world/item/component/BlocksAttacks.java
@@ -86,10 +86,14 @@ public record BlocksAttacks(
             );
     }
 
-    public void disable(ServerLevel level, LivingEntity entity, float duration, ItemStack stack) {
+    public void disable(ServerLevel level, LivingEntity entity, float duration, ItemStack stack, LivingEntity attacker) { // Paper
         int i = this.disableBlockingForTicks(duration);
         if (i > 0) {
             if (entity instanceof Player player) {
+                // Paper start
+                final io.papermc.paper.event.player.PlayerShieldDisableEvent shieldDisableEvent = new io.papermc.paper.event.player.PlayerShieldDisableEvent((org.bukkit.entity.Player) player.getBukkitEntity(), attacker.getBukkitEntity(), i);
+                if (!shieldDisableEvent.callEvent()) return;
+                // Paper end
                 player.getCooldowns().addCooldown(stack, i);
             }
 
