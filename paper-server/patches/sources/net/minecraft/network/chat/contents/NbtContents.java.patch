From 8970c8040a87bb9da1d22cabfd5dafb79924ed1f Mon Sep 17 00:00:00 2001
From: File <noreply+automated@papermc.io>
Date: Sun, 20 Apr 1997 06:37:42 -0700
Subject: [PATCH] paper File Patches


diff --git a/net/minecraft/network/chat/contents/NbtContents.java b/net/minecraft/network/chat/contents/NbtContents.java
index 5bc07643bc26ba7c8d4945a2d1406bb207fc56d6..14d06c7c9f5519d509e82bd5e24ec2b89a555292 100644
--- a/net/minecraft/network/chat/contents/NbtContents.java
+++ b/net/minecraft/network/chat/contents/NbtContents.java
@@ -119,7 +119,7 @@ public class NbtContents implements ComponentContents {
             if (this.interpreting) {
                 RegistryOps<Tag> registryOps = nbtPathPattern.registryAccess().createSerializationContext(NbtOps.INSTANCE);
                 Component component = DataFixUtils.orElse(
-                    ComponentUtils.updateForEntity(nbtPathPattern, this.separator, entity, recursionDepth), ComponentUtils.DEFAULT_NO_STYLE_SEPARATOR
+                    ComponentUtils.updateSeparatorForEntity(nbtPathPattern, this.separator, entity, recursionDepth), ComponentUtils.DEFAULT_NO_STYLE_SEPARATOR // Paper - validate separator
                 );
                 return stream.flatMap(tag -> {
                     try {
@@ -132,7 +132,7 @@ public class NbtContents implements ComponentContents {
                 }).reduce((mutableComponent, component1) -> mutableComponent.append(component).append(component1)).orElseGet(Component::empty);
             } else {
                 Stream<String> stream1 = stream.map(NbtContents::asString);
-                return ComponentUtils.updateForEntity(nbtPathPattern, this.separator, entity, recursionDepth)
+                return ComponentUtils.updateSeparatorForEntity(nbtPathPattern, this.separator, entity, recursionDepth) // Paper - validate separator
                     .map(
                         mutableComponent -> stream1.map(Component::literal)
                             .reduce((mutableComponent1, otherMutableComponent) -> mutableComponent1.append(mutableComponent).append(otherMutableComponent))
